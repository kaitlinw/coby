<% user = current_user %>

<main class="signup">
    <section class="signup__form">
        <div class="signup__form__title">
            <h2>Edit Details</h2>
        </div>
        <div class="signup__form__fields">
            <form action="/profile/update" method="post" enctype="multipart/form-data">
                <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
                <input type="hidden" name="userid" value="<%= user.id %>">
                <div class="signup-stage1">
                    <div class="form-fields-wrapper">
                        <div class="form-field-wrapper">
                            <label for="firstname">first name</label>
                            <input type="text" name="firstname" placeholder="enter first name" value="<%= user.first_name %>">
                        </div>
                        <div class="form-field-wrapper">
                            <label for="lastname">last name</label>
                            <input type="text" name="lastname" placeholder="enter last name" value="<%= user.last_name %>">
                        </div>
                    </div>
                    <div class="form-fields-wrapper">
                        <div class="form-field-wrapper">
                            <label for="dob">date of birth</label>
                            <input type="text" name="dob" placeholder="enter date of birth" value="<%= user.dob %>">
                        </div>
                        <div class="form-field-wrapper">
                            <label for="email">email</label>
                            <input type="email" name="email" placeholder="enter email" value="<%= user.email %>">
                        </div>
                    </div>
                    <div class="form-fields-wrapper">
                        <div class="form-field-wrapper">
                            <label for="location">location</label>
                            <input type="text" name="location" placeholder="enter location" value="<%= user.location %>">
                        </div>
                        <div class="form-field-wrapper">
                            <label for="gender">gender</label>
                            <input type="text" name="gender" placeholder="enter gender" value="<%= user.gender %>">
                        </div>
                    </div>
                   
                </div>
                
                <div class="signup-stage2 d-none">
                    <div class="form-avatar-wrapper">
                        <label for="file-input">
                            <%=image_tag("profile-icon.png")%>
                        </label>
                        <input id="file-input" type="file" name="avatar" >
                        <p class="lh-13">Click avatar to change<br>your display picture</p>
                    </div>
                </div>

                 <div class="signup__form__btn signup-stage1-btn">
                    <button class="grad-stroke-btn">next</button>
                </div>
                <div class="signup__form__btn signup-stage2-btn d-none">
                  
                    <button class="grad-stroke-btn">update changes</button>
 
                </div>
                <div class="signup__form__divert">
                    <a href="/profile">Cancel</a>
                </div>

            </form>
        </div>
       
    </section>
</main>

<script>
    var stageOneBtn = document.querySelector('.signup-stage1-btn')
    var stageOneSection = document.querySelector('.signup-stage1')
    var stageTwoBtn = document.querySelector('.signup-stage2-btn')
    var stageTwoSection = document.querySelector('.signup-stage2')

    var handleClick = (e) => {
        e.preventDefault()
        console.log('hello')
        $(stageOneBtn).fadeOut('slow')
        $(stageOneSection).fadeOut('slow')
        $(stageTwoBtn).delay(540).fadeIn('slow')
        $(stageTwoSection).delay(540).fadeIn('slow')
    }

    stageOneBtn.addEventListener('click', handleClick)
</script>

